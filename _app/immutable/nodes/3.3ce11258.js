import{a as ee,e as U}from"../chunks/index.5f0b57bc.js";import{s as te,n as V,k as F}from"../chunks/scheduler.8746962a.js";import{S as se,i as re,y as z,s as j,g as E,z as H,j as f,f as g,c as x,h as k,k as o,a as T,x as w,A as Z,m as S,n as D,o as M,B as ae,l as K}from"../chunks/index.820f26de.js";const ne=async({fetch:i,params:r})=>{const l=r.spot,h=ee[l],d=await(await i(`https://www.yr.no/api/v0/locations/${h}/forecast`)).json(),u=e=>{const t=new Date(e.start).getHours().toString().padStart(2,"0")+":00",n=he[e.symbolCode.next1Hour];return{time:t,temperature:e.temperature.value,wind:e.wind.speed,direction:e.wind.direction,gusts:e.wind.gust,symbolUrl:`https://www.yr.no/assets/images/weather-symbols/light-mode/default/svg/${n}.svg`,all:JSON.stringify(e)}},a=new Map;return d.shortIntervals.forEach(e=>{const s=new Date(e.start),t=a.get(s.getDate());t?t.items.push(u(e)):a.set(s.getDate(),{dateStr:s.toLocaleDateString("lt-LT",{weekday:"long",day:"numeric",month:"long"}),items:[u(e)]})}),{days:[...a.values()]}},he={clearsky_day:"01d",clearsky_night:"01n",clearsky_polartwilight:"01m",fair_day:"02d",fair_night:"02n",fair_polartwilight:"02m",partlycloudy_day:"03d",partlycloudy_night:"03n",partlycloudy_polartwilight:"03m",cloudy:"04",rainshowers_day:"05d",rainshowers_night:"05n",rainshowers_polartwilight:"05m",rainshowersandthunder_day:"06d",rainshowersandthunder_night:"06n",rainshowersandthunder_polartwilight:"06m",sleetshowers_day:"07d",sleetshowers_night:"07n",sleetshowers_polartwilight:"07m",snowshowers_day:"08d",snowshowers_night:"08n",snowshowers_polartwilight:"08m",rain:"09",heavyrain:"10",heavyrainandthunder:"11",sleet:"12",snow:"13",snowandthunder:"14",fog:"15",sleetshowersandthunder_day:"20d",sleetshowersandthunder_night:"20n",sleetshowersandthunder_polartwilight:"20m",snowshowersandthunder_day:"21d",snowshowersandthunder_night:"21n",snowshowersandthunder_polartwilight:"21m",rainandthunder:"22",sleetandthunder:"23",lightrainshowersandthunder_day:"24d",lightrainshowersandthunder_night:"24n",lightrainshowersandthunder_polartwilight:"24m",heavyrainshowersandthunder_day:"25d",heavyrainshowersandthunder_night:"25n",heavyrainshowersandthunder_polartwilight:"25m",lightssleetshowersandthunder_day:"26d",lightssleetshowersandthunder_night:"26n",lightssleetshowersandthunder_polartwilight:"26m",heavysleetshowersandthunder_day:"27d",heavysleetshowersandthunder_night:"27n",heavysleetshowersandthunder_polartwilight:"27m",lightssnowshowersandthunder_day:"28d",lightssnowshowersandthunder_night:"28n",lightssnowshowersandthunder_polartwilight:"28m",heavysnowshowersandthunder_day:"29d",heavysnowshowersandthunder_night:"29n",heavysnowshowersandthunder_polartwilight:"29m",lightrainandthunder:"30",lightsleetandthunder:"31",heavysleetandthunder:"32",lightsnowandthunder:"33",heavysnowandthunder:"34",lightrainshowers_day:"40d",lightrainshowers_night:"40n",lightrainshowers_polartwilight:"40m",heavyrainshowers_day:"41d",heavyrainshowers_night:"41n",heavyrainshowers_polartwilight:"41m",lightsleetshowers_day:"42d",lightsleetshowers_night:"42n",lightsleetshowers_polartwilight:"42m",heavysleetshowers_day:"43d",heavysleetshowers_night:"43n",heavysleetshowers_polartwilight:"43m",lightsnowshowers_day:"44d",lightsnowshowers_night:"44n",lightsnowshowers_polartwilight:"44m",heavysnowshowers_day:"45d",heavysnowshowers_night:"45n",heavysnowshowers_polartwilight:"45m",lightrain:"46",lightsleet:"47",heavysleet:"48",lightsnow:"49",heavysnow:"50"},ue=Object.freeze(Object.defineProperty({__proto__:null,load:ne},Symbol.toStringTag,{value:"Module"}));function Q(i,r,l){const h=i.slice();return h[1]=r[l],h}function W(i,r,l){const h=i.slice();return h[4]=r[l],h}function X(i){let r,l,h=i[4].time+"",_,d,u,a,e,s,t,n=i[4].temperature+"",y,q,A,p,B=i[4].wind+"",I,P,C=i[4].gusts+"",O,$,m,b;return{c(){r=E("tr"),l=E("td"),_=S(h),d=j(),u=E("td"),a=E("img"),s=j(),t=E("td"),y=S(n),q=S("ยบ"),A=j(),p=E("td"),I=S(B),P=S(" ("),O=S(C),$=S(`) m/s
						`),m=z("svg"),b=z("use"),this.h()},l(v){r=k(v,"TR",{});var c=f(r);l=k(c,"TD",{});var J=f(l);_=D(J,h),J.forEach(g),d=x(c),u=k(c,"TD",{});var N=f(u);a=k(N,"IMG",{src:!0,alt:!0,width:!0,height:!0}),N.forEach(g),s=x(c),t=k(c,"TD",{});var G=f(t);y=D(G,n),q=D(G,"ยบ"),G.forEach(g),A=x(c),p=k(c,"TD",{});var L=f(p);I=D(L,B),P=D(L," ("),O=D(L,C),$=D(L,`) m/s
						`),m=H(L,"svg",{style:!0,x:!0,y:!0,width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0});var R=f(m);b=H(R,"use",{"xlink:href":!0,x:!0,y:!0,width:!0,height:!0}),f(b).forEach(g),R.forEach(g),L.forEach(g),c.forEach(g),this.h()},h(){F(a.src,e=i[4].symbolUrl)||o(a,"src",e),o(a,"alt","weather symbol"),o(a,"width","40"),o(a,"height","40"),ae(b,"xlink:href","#icon-arrow"),o(b,"x","0"),o(b,"y","0"),o(b,"width","24"),o(b,"height","24"),K(m,"transform","rotate("+i[4].direction+"deg)"),o(m,"x","0"),o(m,"y","0"),o(m,"width","24"),o(m,"height","24"),o(m,"viewBox","0 0 24 24"),o(m,"focusable","false"),o(m,"aria-hidden","true")},m(v,c){T(v,r,c),w(r,l),w(l,_),w(r,d),w(r,u),w(u,a),w(r,s),w(r,t),w(t,y),w(t,q),w(r,A),w(r,p),w(p,I),w(p,P),w(p,O),w(p,$),w(p,m),w(m,b)},p(v,c){c&1&&h!==(h=v[4].time+"")&&M(_,h),c&1&&!F(a.src,e=v[4].symbolUrl)&&o(a,"src",e),c&1&&n!==(n=v[4].temperature+"")&&M(y,n),c&1&&B!==(B=v[4].wind+"")&&M(I,B),c&1&&C!==(C=v[4].gusts+"")&&M(O,C),c&1&&K(m,"transform","rotate("+v[4].direction+"deg)")},d(v){v&&g(r)}}}function Y(i){let r,l=i[1].dateStr+"",h,_,d,u,a=U(i[1].items),e=[];for(let s=0;s<a.length;s+=1)e[s]=X(W(i,a,s));return{c(){r=E("h2"),h=S(l),_=j(),d=E("table");for(let s=0;s<e.length;s+=1)e[s].c();u=j()},l(s){r=k(s,"H2",{});var t=f(r);h=D(t,l),t.forEach(g),_=x(s),d=k(s,"TABLE",{});var n=f(d);for(let y=0;y<e.length;y+=1)e[y].l(n);u=x(n),n.forEach(g)},m(s,t){T(s,r,t),w(r,h),T(s,_,t),T(s,d,t);for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(d,null);w(d,u)},p(s,t){if(t&1&&l!==(l=s[1].dateStr+"")&&M(h,l),t&1){a=U(s[1].items);let n;for(n=0;n<a.length;n+=1){const y=W(s,a,n);e[n]?e[n].p(y,t):(e[n]=X(y),e[n].c(),e[n].m(d,u))}for(;n<e.length;n+=1)e[n].d(1);e.length=a.length}},d(s){s&&(g(r),g(_),g(d)),Z(e,s)}}}function le(i){let r,l,h,_,d,u=U(i[0].days),a=[];for(let e=0;e<u.length;e+=1)a[e]=Y(Q(i,u,e));return{c(){r=z("svg"),l=z("symbol"),h=z("path"),_=j(),d=E("div");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){r=H(e,"svg",{height:!0,width:!0,"aria-hidden":!0});var s=f(r);l=H(s,"symbol",{id:!0});var t=f(l);h=H(t,"path",{fill:!0,"fill-rule":!0,d:!0,"clip-rule":!0}),f(h).forEach(g),t.forEach(g),s.forEach(g),_=x(e),d=k(e,"DIV",{});var n=f(d);for(let y=0;y<a.length;y+=1)a[y].l(n);n.forEach(g),this.h()},h(){o(h,"fill","currentColor"),o(h,"fill-rule","evenodd"),o(h,"d","M11.53 3l-.941 12.857L7 15l5.001 6L17 15l-3.587.857L12.471 3h-.941z"),o(h,"clip-rule","evenodd"),o(l,"id","icon-arrow"),o(r,"height","0"),o(r,"width","0"),o(r,"aria-hidden","true")},m(e,s){T(e,r,s),w(r,l),w(l,h),T(e,_,s),T(e,d,s);for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(d,null)},p(e,[s]){if(s&1){u=U(e[0].days);let t;for(t=0;t<u.length;t+=1){const n=Q(e,u,t);a[t]?a[t].p(n,s):(a[t]=Y(n),a[t].c(),a[t].m(d,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=u.length}},i:V,o:V,d(e){e&&(g(r),g(_),g(d)),Z(a,e)}}}function oe(i,r,l){let{data:h}=r;return i.$$set=_=>{"data"in _&&l(0,h=_.data)},[h]}class ge extends se{constructor(r){super(),re(this,r,oe,le,te,{data:0})}}export{ge as component,ue as universal};
