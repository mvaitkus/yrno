import{i as de,f as ce,h as q,j as ue,s as _e,n as D,e as ge,o as we,k as Y}from"../chunks/scheduler.8746962a.js";import{p as fe,t as me,b as ve,d as pe,S as ye,i as be,g as y,s as V,y as H,h as b,j as v,f as g,c as M,z as N,k as _,a as j,x as m,A as K,e as Z,m as L,n as A,o as P,B as ke,l as x}from"../chunks/index.820f26de.js";import{n as $e,p as Ee}from"../chunks/stores.5936b6a0.js";import{e as ie}from"../chunks/singletons.c584edfc.js";function ee(t,e){const n=e.token={};function o(a,r,c,l){if(e.token!==n)return;e.resolved=l;let h=e.ctx;c!==void 0&&(h=h.slice(),h[c]=l);const i=a&&(e.current=a)(h);let s=!1;e.block&&(e.blocks?e.blocks.forEach((d,u)=>{u!==r&&d&&(fe(),me(d,1,1,()=>{e.blocks[u]===d&&(e.blocks[u]=null)}),ve())}):e.block.d(1),i.c(),pe(i,1),i.m(e.mount(),e.anchor),s=!0),e.block=i,e.blocks&&(e.blocks[r]=i),s&&ue()}if(de(t)){const a=ce();if(t.then(r=>{q(a),o(e.then,1,e.value,r),q(null)},r=>{if(q(a),o(e.catch,2,e.error,r),q(null),!e.hasCatch)throw r}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function De(t,e,n){const o=e.slice(),{resolved:a}=t;t.current===t.then&&(o[t.value]=a),t.current===t.catch&&(o[t.error]=a),t.block.p(o,n)}function R(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const z={"#kunigiskes":{name:"Kunigiškės",coords:"55.961,21.067"},"#svencele":{name:"Svencelė",coords:"55.495,21.228"},"#plateliai":{name:"Plateliai",coords:"56.049,21.859"},"#sventoji":{name:"Šventoji",coords:"56.031,21.066"},"#smiltyne":{name:"Smiltynė",coords:"55.719,21.090"},"#pavilosta":{name:"Pavilosta",coords:"56.889,21.188"}},te=async t=>{if(!(t in z))return t&&console.log("invalid spot",t),[];const n=z[t].coords,a=await(await fetch(`https://www.yr.no/api/v0/locations/${n}/forecast`)).json(),r=new Map;return a.shortIntervals.forEach(c=>{const l=new Date(c.start),h=r.get(l.getDate());h?h.items.push(se(c)):(console.log(l.getDate()),r.set(l.getDate(),{dateStr:l.toLocaleDateString("lt-LT",{weekday:"long",day:"numeric",month:"long"}),items:[se(c)]}))}),{created:a.created,nowLink:`https://www.yr.no/api/v0/locations/${n}/forecast/currenthour`,days:r.values()}},se=t=>{const n=new Date(t.start).getHours().toString().padStart(2,"0")+":00",o=je[t.symbolCode.next1Hour];return{time:n,temperature:t.temperature.value,wind:t.wind.speed,direction:t.wind.direction,gusts:t.wind.gust,symbolUrl:`https://www.yr.no/assets/images/weather-symbols/light-mode/default/svg/${o}.svg`,all:JSON.stringify(t)}},je={clearsky_day:"01d",clearsky_night:"01n",clearsky_polartwilight:"01m",fair_day:"02d",fair_night:"02n",fair_polartwilight:"02m",partlycloudy_day:"03d",partlycloudy_night:"03n",partlycloudy_polartwilight:"03m",cloudy:"04",rainshowers_day:"05d",rainshowers_night:"05n",rainshowers_polartwilight:"05m",rainshowersandthunder_day:"06d",rainshowersandthunder_night:"06n",rainshowersandthunder_polartwilight:"06m",sleetshowers_day:"07d",sleetshowers_night:"07n",sleetshowers_polartwilight:"07m",snowshowers_day:"08d",snowshowers_night:"08n",snowshowers_polartwilight:"08m",rain:"09",heavyrain:"10",heavyrainandthunder:"11",sleet:"12",snow:"13",snowandthunder:"14",fog:"15",sleetshowersandthunder_day:"20d",sleetshowersandthunder_night:"20n",sleetshowersandthunder_polartwilight:"20m",snowshowersandthunder_day:"21d",snowshowersandthunder_night:"21n",snowshowersandthunder_polartwilight:"21m",rainandthunder:"22",sleetandthunder:"23",lightrainshowersandthunder_day:"24d",lightrainshowersandthunder_night:"24n",lightrainshowersandthunder_polartwilight:"24m",heavyrainshowersandthunder_day:"25d",heavyrainshowersandthunder_night:"25n",heavyrainshowersandthunder_polartwilight:"25m",lightssleetshowersandthunder_day:"26d",lightssleetshowersandthunder_night:"26n",lightssleetshowersandthunder_polartwilight:"26m",heavysleetshowersandthunder_day:"27d",heavysleetshowersandthunder_night:"27n",heavysleetshowersandthunder_polartwilight:"27m",lightssnowshowersandthunder_day:"28d",lightssnowshowersandthunder_night:"28n",lightssnowshowersandthunder_polartwilight:"28m",heavysnowshowersandthunder_day:"29d",heavysnowshowersandthunder_night:"29n",heavysnowshowersandthunder_polartwilight:"29m",lightrainandthunder:"30",lightsleetandthunder:"31",heavysleetandthunder:"32",lightsnowandthunder:"33",heavysnowandthunder:"34",lightrainshowers_day:"40d",lightrainshowers_night:"40n",lightrainshowers_polartwilight:"40m",heavyrainshowers_day:"41d",heavyrainshowers_night:"41n",heavyrainshowers_polartwilight:"41m",lightsleetshowers_day:"42d",lightsleetshowers_night:"42n",lightsleetshowers_polartwilight:"42m",heavysleetshowers_day:"43d",heavysleetshowers_night:"43n",heavysleetshowers_polartwilight:"43m",lightsnowshowers_day:"44d",lightsnowshowers_night:"44n",lightsnowshowers_polartwilight:"44m",heavysnowshowers_day:"45d",heavysnowshowers_night:"45n",heavysnowshowers_polartwilight:"45m",lightrain:"46",lightsleet:"47",heavysleet:"48",lightsnow:"49",heavysnow:"50"};function re(t,e,n){const o=t.slice();return o[5]=e[n],o}function le(t,e,n){const o=t.slice();return o[8]=e[n],o}function ne(t,e,n){const o=t.slice();return o[11]=e[n][0],o[12]=e[n][1].name,o}function Se(t){let e,n,o=t[12]+"",a;return{c(){e=y("div"),n=y("a"),a=L(o),this.h()},l(r){e=b(r,"DIV",{});var c=v(e);n=b(c,"A",{href:!0});var l=v(n);a=A(l,o),l.forEach(g),c.forEach(g),this.h()},h(){_(n,"href",ie+"/"+t[11])},m(r,c){j(r,e,c),m(e,n),m(n,a)},p:D,d(r){r&&g(e)}}}function Le(t){let e,n,o=t[12]+"",a;return{c(){e=y("div"),n=y("a"),a=L(o),this.h()},l(r){e=b(r,"DIV",{class:!0});var c=v(e);n=b(c,"A",{href:!0});var l=v(n);a=A(l,o),l.forEach(g),c.forEach(g),this.h()},h(){_(n,"href",ie+"/"+t[11]),_(e,"class","active svelte-hkjim5")},m(r,c){j(r,e,c),m(e,n),m(n,a)},p:D,d(r){r&&g(e)}}}function ae(t){let e;function n(r,c){return r[11]==r[0]?Le:Se}let o=n(t),a=o(t);return{c(){a.c(),e=Z()},l(r){a.l(r),e=Z()},m(r,c){a.m(r,c),j(r,e,c)},p(r,c){o===(o=n(r))&&a?a.p(r,c):(a.d(1),a=o(r),a&&(a.c(),a.m(e.parentNode,e)))},d(r){r&&g(e),a.d(r)}}}function Ae(t){return{c:D,l:D,m:D,p:D,d:D}}function Te(t){let e,n=t[4].created+"",o,a,r,c,l,h=R(t[4].days),i=[];for(let s=0;s<h.length;s+=1)i[s]=he(re(t,h,s));return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=L(`
		Atnaujinta `),o=L(n),a=y("br"),r=y("a"),c=L("Sąlygos dabar (json)"),this.h()},l(s){for(let u=0;u<i.length;u+=1)i[u].l(s);e=A(s,`
		Atnaujinta `),o=A(s,n),a=b(s,"BR",{}),r=b(s,"A",{href:!0});var d=v(r);c=A(d,"Sąlygos dabar (json)"),d.forEach(g),this.h()},h(){_(r,"href",l=t[4].nowLink)},m(s,d){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(s,d);j(s,e,d),j(s,o,d),j(s,a,d),j(s,r,d),m(r,c)},p(s,d){if(d&6){h=R(s[4].days);let u;for(u=0;u<h.length;u+=1){const f=re(s,h,u);i[u]?i[u].p(f,d):(i[u]=he(f),i[u].c(),i[u].m(e.parentNode,e))}for(;u<i.length;u+=1)i[u].d(1);i.length=h.length}d&2&&n!==(n=s[4].created+"")&&P(o,n),d&2&&l!==(l=s[4].nowLink)&&_(r,"href",l)},d(s){s&&(g(e),g(o),g(a),g(r)),K(i,s)}}}function oe(t){let e,n,o=t[8].time+"",a,r,c,l,h,i,s,d=t[8].temperature.toFixed(0)+"",u,f,k,w,S=t[8].wind.toFixed(1)+"",F,I,T=t[8].gusts.toFixed(0)+"",O,J,$,C,U;return{c(){e=y("tr"),n=y("td"),a=L(o),r=V(),c=y("td"),l=y("img"),i=V(),s=y("td"),u=L(d),f=L("º"),k=V(),w=y("td"),F=L(S),I=L(" ("),O=L(T),J=L(`) m/s
							
							`),$=H("svg"),C=H("use"),this.h()},l(E){e=b(E,"TR",{style:!0});var p=v(e);n=b(p,"TD",{});var Q=v(n);a=A(Q,o),Q.forEach(g),r=M(p),c=b(p,"TD",{});var W=v(c);l=b(W,"IMG",{src:!0,alt:!0,width:!0,height:!0}),W.forEach(g),i=M(p),s=b(p,"TD",{});var G=v(s);u=A(G,d),f=A(G,"º"),G.forEach(g),k=M(p),w=b(p,"TD",{});var B=v(w);F=A(B,S),I=A(B," ("),O=A(B,T),J=A(B,`) m/s
							
							`),$=N(B,"svg",{style:!0,x:!0,y:!0,width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0});var X=v($);C=N(X,"use",{"xlink:href":!0,x:!0,y:!0,width:!0,height:!0}),v(C).forEach(g),X.forEach(g),B.forEach(g),p.forEach(g),this.h()},h(){Y(l.src,h=t[8].symbolUrl)||_(l,"src",h),_(l,"alt","weather symbol"),_(l,"width","40"),_(l,"height","40"),ke(C,"xlink:href","#icon-arrow"),_(C,"x","0"),_(C,"y","0"),_(C,"width","24"),_(C,"height","24"),x($,"transform","rotate("+t[8].direction+"deg)"),_($,"x","0"),_($,"y","0"),_($,"width","24"),_($,"height","24"),_($,"viewBox","0 0 24 24"),_($,"focusable","false"),_($,"aria-hidden","true"),_(e,"style",U=t[2](t[8].wind))},m(E,p){j(E,e,p),m(e,n),m(n,a),m(e,r),m(e,c),m(c,l),m(e,i),m(e,s),m(s,u),m(s,f),m(e,k),m(e,w),m(w,F),m(w,I),m(w,O),m(w,J),m(w,$),m($,C)},p(E,p){p&2&&o!==(o=E[8].time+"")&&P(a,o),p&2&&!Y(l.src,h=E[8].symbolUrl)&&_(l,"src",h),p&2&&d!==(d=E[8].temperature.toFixed(0)+"")&&P(u,d),p&2&&S!==(S=E[8].wind.toFixed(1)+"")&&P(F,S),p&2&&T!==(T=E[8].gusts.toFixed(0)+"")&&P(O,T),p&2&&x($,"transform","rotate("+E[8].direction+"deg)"),p&2&&U!==(U=E[2](E[8].wind))&&_(e,"style",U)},d(E){E&&g(e)}}}function he(t){let e,n=t[5].dateStr+"",o,a,r,c=R(t[5].items),l=[];for(let h=0;h<c.length;h+=1)l[h]=oe(le(t,c,h));return{c(){e=y("h2"),o=L(n),a=V(),r=y("table");for(let h=0;h<l.length;h+=1)l[h].c()},l(h){e=b(h,"H2",{});var i=v(e);o=A(i,n),i.forEach(g),a=M(h),r=b(h,"TABLE",{});var s=v(r);for(let d=0;d<l.length;d+=1)l[d].l(s);s.forEach(g)},m(h,i){j(h,e,i),m(e,o),j(h,a,i),j(h,r,i);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(r,null)},p(h,i){if(i&2&&n!==(n=h[5].dateStr+"")&&P(o,n),i&6){c=R(h[5].items);let s;for(s=0;s<c.length;s+=1){const d=le(h,c,s);l[s]?l[s].p(d,i):(l[s]=oe(d),l[s].c(),l[s].m(r,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=c.length}},d(h){h&&(g(e),g(a),g(r)),K(l,h)}}}function Ce(t){return{c:D,l:D,m:D,p:D,d:D}}function Fe(t){let e,n,o,a,r,c,l,h,i,s=R(Object.entries(z)),d=[];for(let f=0;f<s.length;f+=1)d[f]=ae(ne(t,s,f));let u={ctx:t,current:null,token:null,hasCatch:!1,pending:Ce,then:Te,catch:Ae,value:4};return ee(i=t[1],u),{c(){e=y("div"),n=y("div");for(let f=0;f<d.length;f+=1)d[f].c();o=V(),a=y("div"),r=H("svg"),c=H("symbol"),l=H("path"),h=V(),u.block.c(),this.h()},l(f){e=b(f,"DIV",{class:!0});var k=v(e);n=b(k,"DIV",{class:!0});var w=v(n);for(let T=0;T<d.length;T+=1)d[T].l(w);w.forEach(g),k.forEach(g),o=M(f),a=b(f,"DIV",{class:!0});var S=v(a);r=N(S,"svg",{height:!0,width:!0,"aria-hidden":!0});var F=v(r);c=N(F,"symbol",{id:!0});var I=v(c);l=N(I,"path",{fill:!0,"fill-rule":!0,d:!0,"clip-rule":!0}),v(l).forEach(g),I.forEach(g),F.forEach(g),h=M(S),u.block.l(S),S.forEach(g),this.h()},h(){_(n,"class","grid svelte-hkjim5"),_(e,"class","container"),_(l,"fill","currentColor"),_(l,"fill-rule","evenodd"),_(l,"d","M11.53 3l-.941 12.857L7 15l5.001 6L17 15l-3.587.857L12.471 3h-.941z"),_(l,"clip-rule","evenodd"),_(c,"id","icon-arrow"),_(r,"height","0"),_(r,"width","0"),_(r,"aria-hidden","true"),_(a,"class","container")},m(f,k){j(f,e,k),m(e,n);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(n,null);j(f,o,k),j(f,a,k),m(a,r),m(r,c),m(c,l),m(a,h),u.block.m(a,u.anchor=null),u.mount=()=>a,u.anchor=null},p(f,[k]){if(t=f,k&1){s=R(Object.entries(z));let w;for(w=0;w<s.length;w+=1){const S=ne(t,s,w);d[w]?d[w].p(S,k):(d[w]=ae(S),d[w].c(),d[w].m(n,null))}for(;w<d.length;w+=1)d[w].d(1);d.length=s.length}u.ctx=t,k&2&&i!==(i=t[1])&&ee(i,u)||De(u,t,k)},i:D,o:D,d(f){f&&(g(e),g(o),g(a)),K(d,f),u.block.d(),u.token=null,u=null}}}function Ie(t,e,n){let o;ge(t,Ee,l=>n(3,o=l));let a=o.url.hash,r=Promise.resolve({});we(()=>{n(1,r=te(a))});const c=l=>{let h=0,i=0,s=0,d="15%";if(l<4.5)return h=0,i=255,s=255,d=`${l/4.5*15}%`,`background-color: rgba(${h}, ${i}, ${s}, ${d})`;if(l<6.7)return h=0,i=255,s=255-(l-4.5)/2.2*255,`background-color: rgba(${h}, ${i}, ${s}, ${d})`;if(l<9.35)return h=(l-6.7)/2.65*255,i=255,s=0,`background-color: rgba(${h}, ${i}, ${s}, ${d})`;if(l<12.3)return h=255,i=255-(l-9.35)/2.95*255,s=0,`background-color: rgba(${h}, ${i}, ${s}, ${d})`;if(l<15.5)return h=255,i=0,s=(l-12.3)/3.2*255,`background-color: rgba(${h}, ${i}, ${s}, ${d})`;if(l>=15.5)return h=255,i=0,s=255,`background-color: rgba(${h}, ${i}, ${s}, ${d})`};return t.$$.update=()=>{t.$$.dirty&9&&$e&&o.url.hash!=a&&(n(0,a=o.url.hash),n(1,r=te(a)))},[a,r,c,o]}class Re extends ye{constructor(e){super(),be(this,e,Ie,Fe,_e,{})}}export{Re as component};
