import{i as de,f as ce,h as q,j as ue,s as _e,n as D,e as ge,o as we,k as Y}from"../chunks/scheduler.8746962a.js";import{p as fe,t as me,b as ve,d as pe,S as ye,i as be,g as b,s as F,y as R,h as k,j as p,f,c as I,z as H,k as m,a as j,x as v,A as K,e as Z,m as S,n as T,o as M,B as ke,l as x}from"../chunks/index.820f26de.js";import{n as Ee,p as $e}from"../chunks/stores.b8a8c4b5.js";import{e as ie}from"../chunks/singletons.286d3604.js";function ee(t,e){const n=e.token={};function a(l,r,d,s){if(e.token!==n)return;e.resolved=s;let h=e.ctx;d!==void 0&&(h=h.slice(),h[d]=s);const u=l&&(e.current=l)(h);let i=!1;e.block&&(e.blocks?e.blocks.forEach((o,c)=>{c!==r&&o&&(fe(),me(o,1,1,()=>{e.blocks[c]===o&&(e.blocks[c]=null)}),ve())}):e.block.d(1),u.c(),pe(u,1),u.m(e.mount(),e.anchor),i=!0),e.block=u,e.blocks&&(e.blocks[r]=u),i&&ue()}if(de(t)){const l=ce();if(t.then(r=>{q(l),a(e.then,1,e.value,r),q(null)},r=>{if(q(l),a(e.catch,2,e.error,r),q(null),!e.hasCatch)throw r}),e.current!==e.pending)return a(e.pending,0),!0}else{if(e.current!==e.then)return a(e.then,1,e.value,t),!0;e.resolved=t}}function De(t,e,n){const a=e.slice(),{resolved:l}=t;t.current===t.then&&(a[t.value]=l),t.current===t.catch&&(a[t.error]=l),t.block.p(a,n)}function N(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const z={"#kunigiskes":{name:"Kunigiškės",coords:"55.961,21.067"},"#svencele":{name:"Svencelė",coords:"55.495,21.228"},"#plateliai":{name:"Plateliai",coords:"56.049,21.859"},"#sventoji":{name:"Šventoji",coords:"56.031,21.066"},"#smiltyne":{name:"Smiltynė",coords:"55.719,21.090"},"#pavilosta":{name:"Pavilosta",coords:"56.889,21.188"}},te=async t=>{if(!(t in z))return t&&console.log("invalid spot",t),[];const n=z[t].coords,l=await(await fetch(`https://www.yr.no/api/v0/locations/${n}/forecast`)).json(),r=new Map;return l.shortIntervals.forEach(d=>{const s=new Date(d.start),h=r.get(s.getDate());h?h.items.push(se(d)):(console.log(s.getDate()),r.set(s.getDate(),{dateStr:s.toLocaleDateString("lt-LT",{weekday:"long",day:"numeric",month:"long"}),items:[se(d)]}))}),{created:new Date(l.created).toLocaleTimeString("lt-LT",{hour:"2-digit",minute:"2-digit"}),nowLink:`https://www.yr.no/api/v0/locations/${n}/forecast/currenthour`,days:r.values()}},se=t=>{const n=new Date(t.start).getHours().toString().padStart(2,"0")+":00",a=je[t.symbolCode.next1Hour];return{time:n,temperature:t.temperature.value,wind:t.wind.speed,direction:t.wind.direction,gusts:t.wind.gust,symbolUrl:`https://www.yr.no/assets/images/weather-symbols/light-mode/default/svg/${a}.svg`,all:JSON.stringify(t)}},je={clearsky_day:"01d",clearsky_night:"01n",clearsky_polartwilight:"01m",fair_day:"02d",fair_night:"02n",fair_polartwilight:"02m",partlycloudy_day:"03d",partlycloudy_night:"03n",partlycloudy_polartwilight:"03m",cloudy:"04",rainshowers_day:"05d",rainshowers_night:"05n",rainshowers_polartwilight:"05m",rainshowersandthunder_day:"06d",rainshowersandthunder_night:"06n",rainshowersandthunder_polartwilight:"06m",sleetshowers_day:"07d",sleetshowers_night:"07n",sleetshowers_polartwilight:"07m",snowshowers_day:"08d",snowshowers_night:"08n",snowshowers_polartwilight:"08m",rain:"09",heavyrain:"10",heavyrainandthunder:"11",sleet:"12",snow:"13",snowandthunder:"14",fog:"15",sleetshowersandthunder_day:"20d",sleetshowersandthunder_night:"20n",sleetshowersandthunder_polartwilight:"20m",snowshowersandthunder_day:"21d",snowshowersandthunder_night:"21n",snowshowersandthunder_polartwilight:"21m",rainandthunder:"22",sleetandthunder:"23",lightrainshowersandthunder_day:"24d",lightrainshowersandthunder_night:"24n",lightrainshowersandthunder_polartwilight:"24m",heavyrainshowersandthunder_day:"25d",heavyrainshowersandthunder_night:"25n",heavyrainshowersandthunder_polartwilight:"25m",lightssleetshowersandthunder_day:"26d",lightssleetshowersandthunder_night:"26n",lightssleetshowersandthunder_polartwilight:"26m",heavysleetshowersandthunder_day:"27d",heavysleetshowersandthunder_night:"27n",heavysleetshowersandthunder_polartwilight:"27m",lightssnowshowersandthunder_day:"28d",lightssnowshowersandthunder_night:"28n",lightssnowshowersandthunder_polartwilight:"28m",heavysnowshowersandthunder_day:"29d",heavysnowshowersandthunder_night:"29n",heavysnowshowersandthunder_polartwilight:"29m",lightrainandthunder:"30",lightsleetandthunder:"31",heavysleetandthunder:"32",lightsnowandthunder:"33",heavysnowandthunder:"34",lightrainshowers_day:"40d",lightrainshowers_night:"40n",lightrainshowers_polartwilight:"40m",heavyrainshowers_day:"41d",heavyrainshowers_night:"41n",heavyrainshowers_polartwilight:"41m",lightsleetshowers_day:"42d",lightsleetshowers_night:"42n",lightsleetshowers_polartwilight:"42m",heavysleetshowers_day:"43d",heavysleetshowers_night:"43n",heavysleetshowers_polartwilight:"43m",lightsnowshowers_day:"44d",lightsnowshowers_night:"44n",lightsnowshowers_polartwilight:"44m",heavysnowshowers_day:"45d",heavysnowshowers_night:"45n",heavysnowshowers_polartwilight:"45m",lightrain:"46",lightsleet:"47",heavysleet:"48",lightsnow:"49",heavysnow:"50"};function re(t,e,n){const a=t.slice();return a[5]=e[n],a}function le(t,e,n){const a=t.slice();return a[8]=e[n],a}function ne(t,e,n){const a=t.slice();return a[11]=e[n][0],a[12]=e[n][1].name,a}function Le(t){let e,n,a=t[12]+"",l;return{c(){e=b("div"),n=b("a"),l=S(a),this.h()},l(r){e=k(r,"DIV",{});var d=p(e);n=k(d,"A",{href:!0});var s=p(n);l=T(s,a),s.forEach(f),d.forEach(f),this.h()},h(){m(n,"href",ie+"/"+t[11])},m(r,d){j(r,e,d),v(e,n),v(n,l)},p:D,d(r){r&&f(e)}}}function Se(t){let e,n,a=t[12]+"",l;return{c(){e=b("div"),n=b("a"),l=S(a),this.h()},l(r){e=k(r,"DIV",{class:!0});var d=p(e);n=k(d,"A",{href:!0});var s=p(n);l=T(s,a),s.forEach(f),d.forEach(f),this.h()},h(){m(n,"href",ie+"/"+t[11]),m(e,"class","active svelte-hkjim5")},m(r,d){j(r,e,d),v(e,n),v(n,l)},p:D,d(r){r&&f(e)}}}function ae(t){let e;function n(r,d){return r[11]==r[0]?Se:Le}let a=n(t),l=a(t);return{c(){l.c(),e=Z()},l(r){l.l(r),e=Z()},m(r,d){l.m(r,d),j(r,e,d)},p(r,d){a===(a=n(r))&&l?l.p(r,d):(l.d(1),l=a(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){r&&f(e),l.d(r)}}}function Te(t){return{c:D,l:D,m:D,p:D,d:D}}function Ae(t){let e,n,a=t[4].created+"",l,r,d,s,h,u,i=N(t[4].days),o=[];for(let c=0;c<i.length;c+=1)o[c]=he(re(t,i,c));return{c(){e=b("center"),n=S("Atnaujinta "),l=S(a),r=F();for(let c=0;c<o.length;c+=1)o[c].c();d=F(),s=b("a"),h=S("Sąlygos dabar (json)"),this.h()},l(c){e=k(c,"CENTER",{});var _=p(e);n=T(_,"Atnaujinta "),l=T(_,a),_.forEach(f),r=I(c);for(let g=0;g<o.length;g+=1)o[g].l(c);d=I(c),s=k(c,"A",{href:!0});var w=p(s);h=T(w,"Sąlygos dabar (json)"),w.forEach(f),this.h()},h(){m(s,"href",u=t[4].nowLink)},m(c,_){j(c,e,_),v(e,n),v(e,l),j(c,r,_);for(let w=0;w<o.length;w+=1)o[w]&&o[w].m(c,_);j(c,d,_),j(c,s,_),v(s,h)},p(c,_){if(_&2&&a!==(a=c[4].created+"")&&M(l,a),_&6){i=N(c[4].days);let w;for(w=0;w<i.length;w+=1){const g=re(c,i,w);o[w]?o[w].p(g,_):(o[w]=he(g),o[w].c(),o[w].m(d.parentNode,d))}for(;w<o.length;w+=1)o[w].d(1);o.length=i.length}_&2&&u!==(u=c[4].nowLink)&&m(s,"href",u)},d(c){c&&(f(e),f(r),f(d),f(s)),K(o,c)}}}function oe(t){let e,n,a=t[8].time+"",l,r,d,s,h,u,i,o=t[8].temperature.toFixed(0)+"",c,_,w,g,L=t[8].wind.toFixed(1)+"",P,V,A=t[8].gusts.toFixed(0)+"",O,J,E,C,U;return{c(){e=b("tr"),n=b("td"),l=S(a),r=F(),d=b("td"),s=b("img"),u=F(),i=b("td"),c=S(o),_=S("º"),w=F(),g=b("td"),P=S(L),V=S(" ("),O=S(A),J=S(`) m/s
							
							`),E=R("svg"),C=R("use"),this.h()},l($){e=k($,"TR",{style:!0});var y=p(e);n=k(y,"TD",{});var Q=p(n);l=T(Q,a),Q.forEach(f),r=I(y),d=k(y,"TD",{});var W=p(d);s=k(W,"IMG",{src:!0,alt:!0,width:!0,height:!0}),W.forEach(f),u=I(y),i=k(y,"TD",{});var G=p(i);c=T(G,o),_=T(G,"º"),G.forEach(f),w=I(y),g=k(y,"TD",{});var B=p(g);P=T(B,L),V=T(B," ("),O=T(B,A),J=T(B,`) m/s
							
							`),E=H(B,"svg",{style:!0,x:!0,y:!0,width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0});var X=p(E);C=H(X,"use",{"xlink:href":!0,x:!0,y:!0,width:!0,height:!0}),p(C).forEach(f),X.forEach(f),B.forEach(f),y.forEach(f),this.h()},h(){Y(s.src,h=t[8].symbolUrl)||m(s,"src",h),m(s,"alt","weather symbol"),m(s,"width","40"),m(s,"height","40"),ke(C,"xlink:href","#icon-arrow"),m(C,"x","0"),m(C,"y","0"),m(C,"width","24"),m(C,"height","24"),x(E,"transform","rotate("+t[8].direction+"deg)"),m(E,"x","0"),m(E,"y","0"),m(E,"width","24"),m(E,"height","24"),m(E,"viewBox","0 0 24 24"),m(E,"focusable","false"),m(E,"aria-hidden","true"),m(e,"style",U=t[2](t[8].wind))},m($,y){j($,e,y),v(e,n),v(n,l),v(e,r),v(e,d),v(d,s),v(e,u),v(e,i),v(i,c),v(i,_),v(e,w),v(e,g),v(g,P),v(g,V),v(g,O),v(g,J),v(g,E),v(E,C)},p($,y){y&2&&a!==(a=$[8].time+"")&&M(l,a),y&2&&!Y(s.src,h=$[8].symbolUrl)&&m(s,"src",h),y&2&&o!==(o=$[8].temperature.toFixed(0)+"")&&M(c,o),y&2&&L!==(L=$[8].wind.toFixed(1)+"")&&M(P,L),y&2&&A!==(A=$[8].gusts.toFixed(0)+"")&&M(O,A),y&2&&x(E,"transform","rotate("+$[8].direction+"deg)"),y&2&&U!==(U=$[2]($[8].wind))&&m(e,"style",U)},d($){$&&f(e)}}}function he(t){let e,n=t[5].dateStr+"",a,l,r,d=N(t[5].items),s=[];for(let h=0;h<d.length;h+=1)s[h]=oe(le(t,d,h));return{c(){e=b("h2"),a=S(n),l=F(),r=b("table");for(let h=0;h<s.length;h+=1)s[h].c()},l(h){e=k(h,"H2",{});var u=p(e);a=T(u,n),u.forEach(f),l=I(h),r=k(h,"TABLE",{});var i=p(r);for(let o=0;o<s.length;o+=1)s[o].l(i);i.forEach(f)},m(h,u){j(h,e,u),v(e,a),j(h,l,u),j(h,r,u);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(r,null)},p(h,u){if(u&2&&n!==(n=h[5].dateStr+"")&&M(a,n),u&6){d=N(h[5].items);let i;for(i=0;i<d.length;i+=1){const o=le(h,d,i);s[i]?s[i].p(o,u):(s[i]=oe(o),s[i].c(),s[i].m(r,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=d.length}},d(h){h&&(f(e),f(l),f(r)),K(s,h)}}}function Ce(t){return{c:D,l:D,m:D,p:D,d:D}}function Fe(t){let e,n,a,l,r,d,s,h,u,i=N(Object.entries(z)),o=[];for(let _=0;_<i.length;_+=1)o[_]=ae(ne(t,i,_));let c={ctx:t,current:null,token:null,hasCatch:!1,pending:Ce,then:Ae,catch:Te,value:4};return ee(u=t[1],c),{c(){e=b("div"),n=b("div");for(let _=0;_<o.length;_+=1)o[_].c();a=F(),l=b("div"),r=R("svg"),d=R("symbol"),s=R("path"),h=F(),c.block.c(),this.h()},l(_){e=k(_,"DIV",{class:!0});var w=p(e);n=k(w,"DIV",{class:!0});var g=p(n);for(let A=0;A<o.length;A+=1)o[A].l(g);g.forEach(f),w.forEach(f),a=I(_),l=k(_,"DIV",{class:!0});var L=p(l);r=H(L,"svg",{height:!0,width:!0,"aria-hidden":!0});var P=p(r);d=H(P,"symbol",{id:!0});var V=p(d);s=H(V,"path",{fill:!0,"fill-rule":!0,d:!0,"clip-rule":!0}),p(s).forEach(f),V.forEach(f),P.forEach(f),h=I(L),c.block.l(L),L.forEach(f),this.h()},h(){m(n,"class","grid svelte-hkjim5"),m(e,"class","container"),m(s,"fill","currentColor"),m(s,"fill-rule","evenodd"),m(s,"d","M11.53 3l-.941 12.857L7 15l5.001 6L17 15l-3.587.857L12.471 3h-.941z"),m(s,"clip-rule","evenodd"),m(d,"id","icon-arrow"),m(r,"height","0"),m(r,"width","0"),m(r,"aria-hidden","true"),m(l,"class","container")},m(_,w){j(_,e,w),v(e,n);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(n,null);j(_,a,w),j(_,l,w),v(l,r),v(r,d),v(d,s),v(l,h),c.block.m(l,c.anchor=null),c.mount=()=>l,c.anchor=null},p(_,[w]){if(t=_,w&1){i=N(Object.entries(z));let g;for(g=0;g<i.length;g+=1){const L=ne(t,i,g);o[g]?o[g].p(L,w):(o[g]=ae(L),o[g].c(),o[g].m(n,null))}for(;g<o.length;g+=1)o[g].d(1);o.length=i.length}c.ctx=t,w&2&&u!==(u=t[1])&&ee(u,c)||De(c,t,w)},i:D,o:D,d(_){_&&(f(e),f(a),f(l)),K(o,_),c.block.d(),c.token=null,c=null}}}function Ie(t,e,n){let a;ge(t,$e,s=>n(3,a=s));let l=a.url.hash,r=Promise.resolve({});we(()=>{n(1,r=te(l))});const d=s=>{let h=0,u=0,i=0,o="15%";if(s<4.5)return h=0,u=255,i=255,o=`${s/4.5*15}%`,`background-color: rgba(${h}, ${u}, ${i}, ${o})`;if(s<6.7)return h=0,u=255,i=255-(s-4.5)/2.2*255,`background-color: rgba(${h}, ${u}, ${i}, ${o})`;if(s<9.35)return h=(s-6.7)/2.65*255,u=255,i=0,`background-color: rgba(${h}, ${u}, ${i}, ${o})`;if(s<12.3)return h=255,u=255-(s-9.35)/2.95*255,i=0,`background-color: rgba(${h}, ${u}, ${i}, ${o})`;if(s<15.5)return h=255,u=0,i=(s-12.3)/3.2*255,`background-color: rgba(${h}, ${u}, ${i}, ${o})`;if(s>=15.5)return h=255,u=0,i=255,`background-color: rgba(${h}, ${u}, ${i}, ${o})`};return t.$$.update=()=>{t.$$.dirty&9&&Ee&&a.url.hash!=l&&(n(0,l=a.url.hash),n(1,r=te(l)))},[l,r,d,a]}class Ne extends ye{constructor(e){super(),be(this,e,Ie,Fe,_e,{})}}export{Ne as component};
