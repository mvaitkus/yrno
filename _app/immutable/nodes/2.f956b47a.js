import{i as de,f as ce,h as x,j as ue,s as _e,n as D,e as ge,o as we,k as Y}from"../chunks/scheduler.8746962a.js";import{p as fe,t as me,b as ve,d as pe,S as ye,i as be,g as b,s as A,y as N,h as k,j as v,f as g,c as P,z as O,k as u,a as S,x as f,A as R,e as z,m as T,n as C,o as H,B as ke,l as Z}from"../chunks/index.820f26de.js";import{n as $e,p as Ee}from"../chunks/stores.3fa329a4.js";import{e as ie}from"../chunks/singletons.fd880e1a.js";function ee(t,e){const n=e.token={};function l(s,r,a,h){if(e.token!==n)return;e.resolved=h;let d=e.ctx;a!==void 0&&(d=d.slice(),d[a]=h);const i=s&&(e.current=s)(d);let c=!1;e.block&&(e.blocks?e.blocks.forEach((o,w)=>{w!==r&&o&&(fe(),me(o,1,1,()=>{e.blocks[w]===o&&(e.blocks[w]=null)}),ve())}):e.block.d(1),i.c(),pe(i,1),i.m(e.mount(),e.anchor),c=!0),e.block=i,e.blocks&&(e.blocks[r]=i),c&&ue()}if(de(t)){const s=ce();if(t.then(r=>{x(s),l(e.then,1,e.value,r),x(null)},r=>{if(x(s),l(e.catch,2,e.error,r),x(null),!e.hasCatch)throw r}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,t),!0;e.resolved=t}}function De(t,e,n){const l=e.slice(),{resolved:s}=t;t.current===t.then&&(l[t.value]=s),t.current===t.catch&&(l[t.error]=s),t.block.p(l,n)}function M(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}const G={"#kunigiskes":{name:"Kunigiškės",coords:"55.961,21.067"},"#svencele":{name:"Svencelė",coords:"55.495,21.228"},"#plateliai":{name:"Plateliai",coords:"56.049,21.859"},"#sventoji":{name:"Šventoji",coords:"56.031,21.066"},"#smiltyne":{name:"Smiltynė",coords:"55.719,21.090"},"#pavilosta":{name:"Pavilosta",coords:"56.889,21.188"}},te=async t=>{if(!(t in G))return console.log("invalid spot",t),[];const n=G[t].coords,s=await(await fetch(`https://www.yr.no/api/v0/locations/${n}/forecast`)).json(),r=new Map;return s.shortIntervals.forEach(a=>{const h=new Date(a.start),d=r.get(h.getDate());d?d.items.push(se(a)):r.set(h.getDate(),{dateStr:h.toLocaleDateString("lt-LT",{weekday:"long",day:"numeric",month:"long"}),items:[se(a)]})}),r.values()},se=t=>{const n=new Date(t.start).getHours().toString().padStart(2,"0")+":00",l=je[t.symbolCode.next1Hour];return{time:n,temperature:t.temperature.value,wind:t.wind.speed,direction:t.wind.direction,gusts:t.wind.gust,symbolUrl:`https://www.yr.no/assets/images/weather-symbols/light-mode/default/svg/${l}.svg`,all:JSON.stringify(t)}},je={clearsky_day:"01d",clearsky_night:"01n",clearsky_polartwilight:"01m",fair_day:"02d",fair_night:"02n",fair_polartwilight:"02m",partlycloudy_day:"03d",partlycloudy_night:"03n",partlycloudy_polartwilight:"03m",cloudy:"04",rainshowers_day:"05d",rainshowers_night:"05n",rainshowers_polartwilight:"05m",rainshowersandthunder_day:"06d",rainshowersandthunder_night:"06n",rainshowersandthunder_polartwilight:"06m",sleetshowers_day:"07d",sleetshowers_night:"07n",sleetshowers_polartwilight:"07m",snowshowers_day:"08d",snowshowers_night:"08n",snowshowers_polartwilight:"08m",rain:"09",heavyrain:"10",heavyrainandthunder:"11",sleet:"12",snow:"13",snowandthunder:"14",fog:"15",sleetshowersandthunder_day:"20d",sleetshowersandthunder_night:"20n",sleetshowersandthunder_polartwilight:"20m",snowshowersandthunder_day:"21d",snowshowersandthunder_night:"21n",snowshowersandthunder_polartwilight:"21m",rainandthunder:"22",sleetandthunder:"23",lightrainshowersandthunder_day:"24d",lightrainshowersandthunder_night:"24n",lightrainshowersandthunder_polartwilight:"24m",heavyrainshowersandthunder_day:"25d",heavyrainshowersandthunder_night:"25n",heavyrainshowersandthunder_polartwilight:"25m",lightssleetshowersandthunder_day:"26d",lightssleetshowersandthunder_night:"26n",lightssleetshowersandthunder_polartwilight:"26m",heavysleetshowersandthunder_day:"27d",heavysleetshowersandthunder_night:"27n",heavysleetshowersandthunder_polartwilight:"27m",lightssnowshowersandthunder_day:"28d",lightssnowshowersandthunder_night:"28n",lightssnowshowersandthunder_polartwilight:"28m",heavysnowshowersandthunder_day:"29d",heavysnowshowersandthunder_night:"29n",heavysnowshowersandthunder_polartwilight:"29m",lightrainandthunder:"30",lightsleetandthunder:"31",heavysleetandthunder:"32",lightsnowandthunder:"33",heavysnowandthunder:"34",lightrainshowers_day:"40d",lightrainshowers_night:"40n",lightrainshowers_polartwilight:"40m",heavyrainshowers_day:"41d",heavyrainshowers_night:"41n",heavyrainshowers_polartwilight:"41m",lightsleetshowers_day:"42d",lightsleetshowers_night:"42n",lightsleetshowers_polartwilight:"42m",heavysleetshowers_day:"43d",heavysleetshowers_night:"43n",heavysleetshowers_polartwilight:"43m",lightsnowshowers_day:"44d",lightsnowshowers_night:"44n",lightsnowshowers_polartwilight:"44m",heavysnowshowers_day:"45d",heavysnowshowers_night:"45n",heavysnowshowers_polartwilight:"45m",lightrain:"46",lightsleet:"47",heavysleet:"48",lightsnow:"49",heavysnow:"50"};function re(t,e,n){const l=t.slice();return l[5]=e[n],l}function le(t,e,n){const l=t.slice();return l[8]=e[n],l}function ne(t,e,n){const l=t.slice();return l[11]=e[n][0],l[12]=e[n][1].name,l}function Se(t){let e,n,l=t[12]+"",s;return{c(){e=b("div"),n=b("a"),s=T(l),this.h()},l(r){e=k(r,"DIV",{});var a=v(e);n=k(a,"A",{href:!0});var h=v(n);s=C(h,l),h.forEach(g),a.forEach(g),this.h()},h(){u(n,"href",ie+"/"+t[11])},m(r,a){S(r,e,a),f(e,n),f(n,s)},p:D,d(r){r&&g(e)}}}function Te(t){let e,n,l=t[12]+"",s;return{c(){e=b("div"),n=b("a"),s=T(l),this.h()},l(r){e=k(r,"DIV",{class:!0});var a=v(e);n=k(a,"A",{href:!0});var h=v(n);s=C(h,l),h.forEach(g),a.forEach(g),this.h()},h(){u(n,"href",ie+"/"+t[11]),u(e,"class","active svelte-hkjim5")},m(r,a){S(r,e,a),f(e,n),f(n,s)},p:D,d(r){r&&g(e)}}}function ae(t){let e;function n(r,a){return r[11]==r[0]?Te:Se}let l=n(t),s=l(t);return{c(){s.c(),e=z()},l(r){s.l(r),e=z()},m(r,a){s.m(r,a),S(r,e,a)},p(r,a){l===(l=n(r))&&s?s.p(r,a):(s.d(1),s=l(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&g(e),s.d(r)}}}function Ce(t){return{c:D,l:D,m:D,p:D,d:D}}function Fe(t){let e,n=M(t[4]),l=[];for(let s=0;s<n.length;s+=1)l[s]=he(re(t,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=z()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=z()},m(s,r){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(s,r);S(s,e,r)},p(s,r){if(r&6){n=M(s[4]);let a;for(a=0;a<n.length;a+=1){const h=re(s,n,a);l[a]?l[a].p(h,r):(l[a]=he(h),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(s){s&&g(e),R(l,s)}}}function oe(t){let e,n,l=t[8].time+"",s,r,a,h,d,i,c,o=t[8].temperature.toFixed(0)+"",w,m,y,_,j=t[8].wind.toFixed(1)+"",L,V,F=t[8].gusts.toFixed(0)+"",U,J,$,I,q;return{c(){e=b("tr"),n=b("td"),s=T(l),r=A(),a=b("td"),h=b("img"),i=A(),c=b("td"),w=T(o),m=T("º"),y=A(),_=b("td"),L=T(j),V=T(" ("),U=T(F),J=T(`) m/s
							
							`),$=N("svg"),I=N("use"),this.h()},l(E){e=k(E,"TR",{style:!0});var p=v(e);n=k(p,"TD",{});var Q=v(n);s=C(Q,l),Q.forEach(g),r=P(p),a=k(p,"TD",{});var W=v(a);h=k(W,"IMG",{src:!0,alt:!0,width:!0,height:!0}),W.forEach(g),i=P(p),c=k(p,"TD",{});var K=v(c);w=C(K,o),m=C(K,"º"),K.forEach(g),y=P(p),_=k(p,"TD",{});var B=v(_);L=C(B,j),V=C(B," ("),U=C(B,F),J=C(B,`) m/s
							
							`),$=O(B,"svg",{style:!0,x:!0,y:!0,width:!0,height:!0,viewBox:!0,focusable:!0,"aria-hidden":!0});var X=v($);I=O(X,"use",{"xlink:href":!0,x:!0,y:!0,width:!0,height:!0}),v(I).forEach(g),X.forEach(g),B.forEach(g),p.forEach(g),this.h()},h(){Y(h.src,d=t[8].symbolUrl)||u(h,"src",d),u(h,"alt","weather symbol"),u(h,"width","40"),u(h,"height","40"),ke(I,"xlink:href","#icon-arrow"),u(I,"x","0"),u(I,"y","0"),u(I,"width","24"),u(I,"height","24"),Z($,"transform","rotate("+t[8].direction+"deg)"),u($,"x","0"),u($,"y","0"),u($,"width","24"),u($,"height","24"),u($,"viewBox","0 0 24 24"),u($,"focusable","false"),u($,"aria-hidden","true"),u(e,"style",q=t[2](t[8].wind))},m(E,p){S(E,e,p),f(e,n),f(n,s),f(e,r),f(e,a),f(a,h),f(e,i),f(e,c),f(c,w),f(c,m),f(e,y),f(e,_),f(_,L),f(_,V),f(_,U),f(_,J),f(_,$),f($,I)},p(E,p){p&2&&l!==(l=E[8].time+"")&&H(s,l),p&2&&!Y(h.src,d=E[8].symbolUrl)&&u(h,"src",d),p&2&&o!==(o=E[8].temperature.toFixed(0)+"")&&H(w,o),p&2&&j!==(j=E[8].wind.toFixed(1)+"")&&H(L,j),p&2&&F!==(F=E[8].gusts.toFixed(0)+"")&&H(U,F),p&2&&Z($,"transform","rotate("+E[8].direction+"deg)"),p&2&&q!==(q=E[2](E[8].wind))&&u(e,"style",q)},d(E){E&&g(e)}}}function he(t){let e,n=t[5].dateStr+"",l,s,r,a,h=M(t[5].items),d=[];for(let i=0;i<h.length;i+=1)d[i]=oe(le(t,h,i));return{c(){e=b("h2"),l=T(n),s=A(),r=b("table");for(let i=0;i<d.length;i+=1)d[i].c();a=A()},l(i){e=k(i,"H2",{});var c=v(e);l=C(c,n),c.forEach(g),s=P(i),r=k(i,"TABLE",{});var o=v(r);for(let w=0;w<d.length;w+=1)d[w].l(o);a=P(o),o.forEach(g)},m(i,c){S(i,e,c),f(e,l),S(i,s,c),S(i,r,c);for(let o=0;o<d.length;o+=1)d[o]&&d[o].m(r,null);f(r,a)},p(i,c){if(c&2&&n!==(n=i[5].dateStr+"")&&H(l,n),c&6){h=M(i[5].items);let o;for(o=0;o<h.length;o+=1){const w=le(i,h,o);d[o]?d[o].p(w,c):(d[o]=oe(w),d[o].c(),d[o].m(r,a))}for(;o<d.length;o+=1)d[o].d(1);d.length=h.length}},d(i){i&&(g(e),g(s),g(r)),R(d,i)}}}function Ie(t){return{c:D,l:D,m:D,p:D,d:D}}function Le(t){let e,n,l,s,r,a,h,d,i,c=M(Object.entries(G)),o=[];for(let m=0;m<c.length;m+=1)o[m]=ae(ne(t,c,m));let w={ctx:t,current:null,token:null,hasCatch:!1,pending:Ie,then:Fe,catch:Ce,value:4};return ee(i=t[1],w),{c(){e=b("div"),n=b("div");for(let m=0;m<o.length;m+=1)o[m].c();l=A(),s=b("div"),r=N("svg"),a=N("symbol"),h=N("path"),d=A(),w.block.c(),this.h()},l(m){e=k(m,"DIV",{class:!0});var y=v(e);n=k(y,"DIV",{class:!0});var _=v(n);for(let F=0;F<o.length;F+=1)o[F].l(_);_.forEach(g),y.forEach(g),l=P(m),s=k(m,"DIV",{class:!0});var j=v(s);r=O(j,"svg",{height:!0,width:!0,"aria-hidden":!0});var L=v(r);a=O(L,"symbol",{id:!0});var V=v(a);h=O(V,"path",{fill:!0,"fill-rule":!0,d:!0,"clip-rule":!0}),v(h).forEach(g),V.forEach(g),L.forEach(g),d=P(j),w.block.l(j),j.forEach(g),this.h()},h(){u(n,"class","grid svelte-hkjim5"),u(e,"class","container"),u(h,"fill","currentColor"),u(h,"fill-rule","evenodd"),u(h,"d","M11.53 3l-.941 12.857L7 15l5.001 6L17 15l-3.587.857L12.471 3h-.941z"),u(h,"clip-rule","evenodd"),u(a,"id","icon-arrow"),u(r,"height","0"),u(r,"width","0"),u(r,"aria-hidden","true"),u(s,"class","container")},m(m,y){S(m,e,y),f(e,n);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(n,null);S(m,l,y),S(m,s,y),f(s,r),f(r,a),f(a,h),f(s,d),w.block.m(s,w.anchor=null),w.mount=()=>s,w.anchor=null},p(m,[y]){if(t=m,y&1){c=M(Object.entries(G));let _;for(_=0;_<c.length;_+=1){const j=ne(t,c,_);o[_]?o[_].p(j,y):(o[_]=ae(j),o[_].c(),o[_].m(n,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=c.length}w.ctx=t,y&2&&i!==(i=t[1])&&ee(i,w)||De(w,t,y)},i:D,o:D,d(m){m&&(g(e),g(l),g(s)),R(o,m),w.block.d(),w.token=null,w=null}}}function Ae(t,e,n){let l;ge(t,Ee,h=>n(3,l=h));let s=l.url.hash,r=Promise.resolve([]);we(()=>{n(1,r=te(s))});const a=h=>{let d=0,i=0,c=0,o="15%";if(h<4.5)return d=0,i=255,c=255,o=`${h/4.5*15}%`,`background-color: rgba(${d}, ${i}, ${c}, ${o})`;if(h<6.7)return d=0,i=255,c=255-(h-4.5)/2.2*255,`background-color: rgba(${d}, ${i}, ${c}, ${o})`;if(h<9.35)return d=(h-6.7)/2.65*255,i=255,c=0,`background-color: rgba(${d}, ${i}, ${c}, ${o})`;if(h<12.3)return d=255,i=255-(h-9.35)/2.95*255,c=0,`background-color: rgba(${d}, ${i}, ${c}, ${o})`;if(h<15.5)return d=255,i=0,c=(h-12.3)/3.2*255,`background-color: rgba(${d}, ${i}, ${c}, ${o})`;if(h>=15.5)return d=255,i=0,c=255,`background-color: rgba(${d}, ${i}, ${c}, ${o})`};return t.$$.update=()=>{t.$$.dirty&9&&$e&&(n(0,s=l.url.hash),n(1,r=te(s)))},[s,r,a,l]}class He extends ye{constructor(e){super(),be(this,e,Ae,Le,_e,{})}}export{He as component};
